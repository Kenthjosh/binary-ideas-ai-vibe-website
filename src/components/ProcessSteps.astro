---
interface Step {
  id: number;
  icon: string;
  title: string;
  description: string;
  gap?: string;
}

interface Props {
  steps?: Step[];
}

const {
  steps = [
    {
      id: 1,
      icon: "/img/Free 30-Minute Analysis1.svg",
      title: "Free 30-Minute Analysis",
      description:
        "We identify exactly where you're losing money to manual work and show you the fastest ROI opportunities. No sales pitch — just honest analysis of whether AI can help.",
      gap: "gap-4",
    },
    {
      id: 2,
      icon: "/img/Custom Solution Design.svg",
      title: "Custom Solution Design",
      description:
        "We design AI automation tailored to YOUR specific workflows, integrated with your existing systems. No cookie-cutter templates — this is built for your business.",
      gap: "gap-4",
    },
    {
      id: 3,
      icon: "/img/We Build & Train.svg",
      title: "We Build & Train",
      description:
        "Our team implements everything and trains your staff. You don't need any technical knowledge — we handle all setup, integration, and testing.",
      gap: "",
    },
    {
      id: 4,
      icon: "/img/Watch It Work.svg",
      title: "Watch It Work",
      description:
        "Your AI starts working 24/7, capturing leads, handling tasks, and saving you money. We monitor performance and optimize continuously to maximize your ROI.",
      gap: "gap-4",
    },
  ]
} = Astro.props;
---

<section id="how-it-works" class="relative w-full px-4 md:px-8 lg:px-20 py-20 md:py-32">
  <h2 class="text-3xl md:text-4xl lg:text-5xl font-normal text-center mb-12 [font-family:'Segoe_UI_Symbol-Regular',Helvetica]">
    <span class="text-white">How It </span>
    <span class="bg-gradient-to-r from-blue-400 via-purple-400 to-pink-400 bg-clip-text text-transparent">Works</span>
  </h2>

  <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 max-w-7xl mx-auto">
    {steps.map((step, index) => (
      <article
        class="flex flex-col items-center text-center gap-4 bg-[#fffefe0d] rounded-2xl border-[#fffefe1a] border border-solid backdrop-blur-sm backdrop-brightness-[100%] [-webkit-backdrop-filter:blur(4px)_brightness(100%)] p-8"
      >
        <div class="w-12 h-12 flex items-center justify-center rounded-full overflow-hidden shadow-[0px_4px_6px_-4px_#0000001a,0px_10px_15px_-3px_#0000001a] bg-[linear-gradient(145deg,rgba(43,127,255,1)_0%,rgba(152,16,250,1)_100%)]">
          <div class="[font-family:'Segoe_UI_Symbol-Regular',Helvetica] font-normal text-white text-xl text-center tracking-[0] leading-7">
            {step.id}
          </div>
        </div>

        <img
          class="w-14 h-14"
          alt={`Step ${step.id} icon`}
          src={step.icon}
        />

        <h3
          class="[font-family:'Segoe_UI_Symbol-Regular',Helvetica] font-normal text-white text-lg md:text-xl text-center tracking-[0] leading-7"
          set:html={step.title.split('\n').join('<br />')}
        />

        <p
          class="[font-family:'Segoe_UI_Symbol-Regular',Helvetica] font-normal text-[#99a1ae] text-sm text-center tracking-[0] leading-relaxed"
          set:html={step.description.split('\n').join('<br />')}
        />
      </article>
    ))}
  </div>

  <div class="flex justify-center mt-12">
    <a
      href="https://api.3sixtycrm.com/widget/bookings/robert-sandiego"
      class="w-full sm:w-auto px-8 py-4 rounded-[10px] overflow-hidden bg-[linear-gradient(90deg,rgba(43,127,255,1)_0%,rgba(152,16,250,1)_100%)] cursor-pointer transition-opacity hover:opacity-90 focus:outline-none focus:ring-2 focus:ring-[#2b7fff] focus:ring-offset-2 focus:ring-offset-[#000000] flex items-center justify-center gap-2"
      aria-label="Start with Step 1: Book Free Analysis"
      target="_blank"
      rel="noopener noreferrer"
    >
      <span class="[font-family:'Segoe_UI_Symbol-Regular',Helvetica] font-normal text-white text-base text-center tracking-[0] leading-6 whitespace-nowrap">
        Start with Step 1: Book Free Analysis
      </span>
      <img
        class="w-5 h-5"
        alt=""
        src="/img/vector-4.svg"
        aria-hidden="true"
      />
    </a>
  </div>
</section>
