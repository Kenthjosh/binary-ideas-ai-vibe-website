---
interface ServiceIcon {
  type: "gradient" | "image";
  gradient?: string;
  images?: { src: string; alt: string; className: string }[];
  imageSrc?: string;
}

interface Service {
  icon: ServiceIcon;
  title: string;
  description: string;
  learnMoreGradient: string;
  link?: string;
}

interface Props {
  subtitle?: string;
  services?: Service[];
}

const {
  subtitle = "Each service is designed to deliver measurable results and ROI for your business",
  services = [
    {
      icon: {
        type: "gradient",
        gradient: "linear-gradient(145deg,rgba(43,127,255,1)_0%,rgba(0,184,219,1)_100%)",
        images: [
          {
            src: "/img/vector-7.svg",
            alt: "Vector",
            className: "absolute w-0 h-[12.50%] top-[79.17%] left-[50.00%]",
          },
          {
            src: "/img/vector-8.svg",
            alt: "Vector",
            className: "absolute w-[58.33%] h-[37.50%] top-[41.67%] left-[20.83%]",
          },
          {
            src: "/img/vector-9.svg",
            alt: "Vector",
            className: "absolute w-[25.00%] h-[54.17%] top-[8.33%] left-[37.50%]",
          },
        ],
      },
      title: "Voice AI Agents",
      description: "Never miss another call with AI that sounds\nhuman. Handle appointment scheduling,\ncustomer inquiries, and lead qualification 24/7.\nReduce staffing costs by 60% while improving\ncustomer satisfaction.",
      learnMoreGradient: "linear-gradient(90deg,rgba(43,127,255,1)_0%,rgba(0,184,219,1)_100%)",
      link: "#voice-ai-agents"
    },
    {
      icon: {
        type: "image",
        imageSrc: "/img/background-shadow-2.svg",
      },
      title: "Lead Generation AI",
      description: "Turn your website into a lead magnet. Our AI\nidentifies, captures, and qualifies prospects\nautomatically, increasing lead volume by 300%\nwhile improving quality and reducing cost per\nlead.",
      learnMoreGradient: "linear-gradient(90deg,rgba(173,70,255,1)_0%,rgba(246,51,154,1)_100%)",
      link: "#lead-generation-ai"
    },
    {
      icon: {
        type: "gradient",
        gradient: "linear-gradient(145deg,rgba(246,51,154,1)_0%,rgba(255,32,86,1)_100%)",
        images: [
          {
            src: "/img/vector-12.svg",
            alt: "Vector",
            className: "absolute w-[83.33%] h-[24.99%] top-[29.17%] left-[8.33%]",
          },
          {
            src: "/img/vector-13.svg",
            alt: "Vector",
            className: "absolute w-[83.33%] h-[66.67%] top-[16.67%] left-[8.33%]",
          },
        ],
      },
      title: "Email Marketing AI",
      description: "Personalized campaigns that actually get\nopened. Our AI optimizes send times,\npersonalizes content, and increases open rates\nby 40% while saving you 10+ hours per week.",
      learnMoreGradient: "linear-gradient(90deg,rgba(246,51,154,1)_0%,rgba(255,32,86,1)_100%)",
      link: "#email-marketing-ai"
    },
    {
      icon: {
        type: "gradient",
        gradient: "linear-gradient(145deg,rgba(0,184,219,1)_0%,rgba(43,127,255,1)_100%)",
        images: [
          {
            src: "/img/vector-15.svg",
            alt: "Vector",
            className: "absolute w-[83.33%] h-[83.33%] top-[8.33%] left-[8.33%]",
          },
        ],
      },
      title: "Chatbot AI",
      description: "Instant customer support that never sleeps.\nReduce support tickets by 70% with AI that\nprovides instant responses, answers FAQs, and\nescalates complex issues to your team.",
      learnMoreGradient: "linear-gradient(90deg,rgba(0,184,219,1)_0%,rgba(43,127,255,1)_100%)",
      link: "#chatbot-ai"
    },
    {
      icon: {
        type: "image",
        imageSrc: "/img/background-shadow-3.svg",
      },
      title: "Social Media AI",
      description: "Consistent, engaging content across all\nplatforms. Save 15+ hours per week with AI that\ncreates, schedules, and optimizes posts,\nincreasing engagement by 50%.",
      learnMoreGradient: "linear-gradient(90deg,rgba(142,81,255,1)_0%,rgba(173,70,255,1)_100%)",
      link: "#social-media-ai"
    },
    {
      icon: {
        type: "image",
        imageSrc: "/img/background-shadow-4.svg",
      },
      title: "Training Agents",
      description: "Custom AI solutions for your unique workflows.\nWe build and train AI agents specifically for your\nbusiness processes, giving you a competitive\nadvantage in your industry.",
      learnMoreGradient: "linear-gradient(90deg,rgba(225,42,251,1)_0%,rgba(246,51,154,1)_100%)",
      link: "#training-agents"
    },
  ]
} = Astro.props;

const topRowServices = services.slice(0, 3);
const bottomRowServices = services.slice(3, 6);
---

<section class="relative w-full px-4 md:px-8 lg:px-20 py-16 md:py-24">
  <p class="max-w-3xl mx-auto [font-family:'Segoe_UI_Symbol-Regular',Helvetica] font-normal text-[#99a1ae] text-lg md:text-xl text-center tracking-[0] leading-7 mb-12">
    {subtitle}
  </p>

  <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 max-w-7xl mx-auto">
  {topRowServices.map((service, index) => (
    <article
      class="p-8 flex flex-col bg-[#fffefe0d] rounded-2xl overflow-hidden border-[#fffefe1a] border border-solid backdrop-blur-sm backdrop-brightness-[100%] [-webkit-backdrop-filter:blur(4px)_brightness(100%)]"
    >
      {service.icon.type === "gradient" ? (
        <div
          class="w-14 h-14 mb-6 flex items-center justify-center rounded-[14px] overflow-hidden shadow-[0px_4px_6px_-4px_#0000001a,0px_10px_15px_-3px_#0000001a]"
          style={`background: ${service.icon.gradient}`}
        >
          <div class="h-8 w-8 relative">
            {service.icon.images?.map((img) => (
              <img
                class={img.className}
                alt={img.alt}
                src={img.src}
              />
            ))}
          </div>
        </div>
      ) : (
        <img
          class="w-14 h-14 mb-6"
          alt="Background shadow"
          src={service.icon.imageSrc}
        />
      )}

      <h3 class="[font-family:'Segoe_UI_Symbol-Regular',Helvetica] font-normal text-white text-2xl tracking-[0] leading-8 mb-4">
        {service.title}
      </h3>

      <p class="[font-family:'Segoe_UI_Symbol-Regular',Helvetica] font-normal text-[#99a1ae] text-base tracking-[0] leading-[26px] mb-6 flex-grow" set:html={service.description.split('\n').join('<br />')} />

      <a
        href={service.link || "#"}
        class="flex items-center gap-2 mt-auto"
        aria-label={`Learn more about ${service.title}`}
      >
        <span
          class="[-webkit-background-clip:text] bg-clip-text [-webkit-text-fill-color:transparent] [text-fill-color:transparent] [font-family:'Segoe_UI_Symbol-Regular',Helvetica] font-normal text-transparent text-sm tracking-[0] leading-5"
          style={`background: ${service.learnMoreGradient}`}
        >
          Learn More
        </span>

        <div class="h-4 w-4 relative">
          <img
            class="absolute w-[25.00%] h-[50.00%] top-[25.00%] left-[37.50%]"
            alt="Arrow"
            src="/img/vector-18.svg"
          />
        </div>
      </a>
    </article>
  ))}

  {bottomRowServices.map((service, index) => (
    <article
      class="p-8 flex flex-col bg-[#fffefe0d] rounded-2xl overflow-hidden border-[#fffefe1a] border border-solid backdrop-blur-sm backdrop-brightness-[100%] [-webkit-backdrop-filter:blur(4px)_brightness(100%)]"
    >
      {service.icon.type === "gradient" ? (
        <div
          class="w-14 h-14 mb-6 flex items-center justify-center rounded-[14px] overflow-hidden shadow-[0px_4px_6px_-4px_#0000001a,0px_10px_15px_-3px_#0000001a]"
          style={`background: ${service.icon.gradient}`}
        >
          <div class="h-8 w-8 relative">
            {service.icon.images?.map((img) => (
              <img
                class={img.className}
                alt={img.alt}
                src={img.src}
              />
            ))}
          </div>
        </div>
      ) : (
        <img
          class="w-14 h-14 mb-6"
          alt="Background shadow"
          src={service.icon.imageSrc}
        />
      )}

      <h3 class="[font-family:'Segoe_UI_Symbol-Regular',Helvetica] font-normal text-white text-2xl tracking-[0] leading-8 mb-4">
        {service.title}
      </h3>

      <p class="[font-family:'Segoe_UI_Symbol-Regular',Helvetica] font-normal text-[#99a1ae] text-base tracking-[0] leading-[26px] mb-6 flex-grow" set:html={service.description.split('\n').join('<br />')} />

      <a
        href={service.link || "#"}
        class="flex items-center gap-2 mt-auto"
        aria-label={`Learn more about ${service.title}`}
      >
        <span
          class="[-webkit-background-clip:text] bg-clip-text [-webkit-text-fill-color:transparent] [text-fill-color:transparent] [font-family:'Segoe_UI_Symbol-Regular',Helvetica] font-normal text-transparent text-sm tracking-[0] leading-5"
          style={`background: ${service.learnMoreGradient}`}
        >
          Learn More
        </span>

        <div class="h-4 w-4 relative">
          <img
            class="absolute w-[25.00%] h-[50.00%] top-[25.00%] left-[37.50%]"
            alt="Arrow"
            src="/img/vector-18.svg"
          />
        </div>
      </a>
    </article>
  ))}
  </div>
</section>
